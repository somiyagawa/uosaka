<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Dependencyã®ä¸–ç•Œã¸</title>
    <style>
        /* Google Fontsã®èª­ã¿è¾¼ã¿ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap');
        
        /* åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« */
        :root {
            --primary-color: #3b82f6; /* blue-500 */
            --secondary-color: #8b5cf6; /* violet-500 */
            --text-dark: #1e293b; /* slate-800 */
            --text-light: #475569; /* slate-600 */
            --bg-light: #f8fafc; /* slate-50 */
            --bg-white: #ffffff;
            --border-color: #e2e8f0; /* slate-200 */
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Noto Sans JP', sans-serif;
            background: var(--text-dark);
        }
        
        /* ã‚¹ãƒ©ã‚¤ãƒ‰ã®åŸºæœ¬è¨­å®š */
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-white);
            padding: 50px 70px;
            overflow-y: auto;
            color: var(--text-dark);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
            transform: translateX(100%);
        }
        
        .slide.active {
            opacity: 1;
            visibility: visible;
            z-index: 1;
            transform: translateX(0);
        }

        .slide.prev-slide {
            transform: translateX(-100%);
        }

        /* ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ãƒ©ã‚¤ãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .title-slide {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .title-slide h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 900;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
            color: white;
        }
        
        /* è¦‹å‡ºã—ã‚¹ã‚¿ã‚¤ãƒ« */
        h1, h2, h3 {
            font-weight: 700;
        }
        h1 { font-size: 2.8rem; margin-bottom: 2rem; color: var(--text-dark); }
        h2 { font-size: 2.2rem; margin-bottom: 1.5rem; color: var(--text-dark); border-bottom: 4px solid var(--primary-color); padding-bottom: 0.5rem; }
        h3 { font-size: 1.6rem; margin-bottom: 1rem; color: var(--text-light); }
        
        p, li {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 1rem;
            color: var(--text-light);
        }
        
        ol, ul {
            padding-left: 2rem;
        }
        
        /* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ */
        .card {
            background: var(--bg-light);
            border-left: 5px solid var(--primary-color);
            padding: 1.5rem;
            border-radius: 0 8px 8px 0;
            margin: 2rem 0;
        }
        
        .highlight-card {
             background: #fffbeb; /* amber-50 */
             border-left: 5px solid #f59e0b; /* amber-500 */
             padding: 1.5rem;
             border-radius: 0 8px 8px 0;
             margin: 2rem 0;
        }
        .highlight-card .highlight {
            background: #fef3c7; /* amber-100 */
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 700;
        }
        
        /* çµ±èªæ¨¹ã®ã‚³ãƒ³ãƒ†ãƒŠ */
        .tree-container {
            background: var(--bg-white);
            border: 1px solid var(--border-color);
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1rem 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        
        .tree-container h3 {
             border-bottom: 2px solid var(--border-color);
             padding-bottom: 0.5rem;
        }
        
        /* çµ±èªæ¨¹SVGã®ã‚¹ã‚¿ã‚¤ãƒ« */
        svg.dependency-tree {
            width: 100%;
            max-width: 900px;
            display: block;
            margin: 1.5rem auto;
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
        }
        .dep-word { font-size: 1.1rem; font-weight: bold; }
        .dep-pos { font-size: 0.8rem; fill: #64748b; }
        .dep-label { font-size: 0.8rem; font-weight: 500; }
        .dep-arrow { stroke-width: 2; fill: none; }
        
        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³UI */
        .navigation-controls {
            position: fixed;
            bottom: 25px;
            right: 25px;
            z-index: 10;
            display: flex;
            gap: 1rem;
        }
        
        .gemini-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, #fb923c, #f59e0b);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 99px;
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
        }
        .gemini-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(249, 115, 22, 0.4);
        }
         .gemini-button:disabled {
            background: #94a3b8;
            cursor: not-allowed;
            transform: translateY(0);
            box-shadow: none;
        }

        .nav-button {
            width: 50px;
            height: 50px;
            border: none;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .nav-button:hover {
            background: #2563eb; /* blue-600 */
            transform: translateY(-3px);
        }
        .nav-button:disabled {
            background: #94a3b8; /* slate-400 */
            cursor: not-allowed;
            transform: translateY(0);
        }
        
        /* UIã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
        .ui-overlay {
            position: fixed;
            z-index: 5;
            color: #9ca3af; /* gray-400 */
            background: rgba(255,255,255,0.7);
            padding: 0.5rem 1rem;
            border-radius: 99px;
            backdrop-filter: blur(5px);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        #slide-counter { top: 25px; right: 25px; }
        #progress-bar { bottom: 0; left: 0; width: 100%; height: 6px; background: #e5e7eb; /* gray-200 */ z-index: 11;}
        #progress-fill { height: 100%; background: var(--primary-color); transition: width 0.3s ease; width: 0%; }
        
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>

    <div id="slide-counter" class="ui-overlay">
        <span id="current-slide-num">1</span> / <span id="total-slides-num">1</span>
    </div>
    <div id="progress-bar"><div id="progress-fill"></div></div>
    <div class="navigation-controls">
        <button id="prev-btn" class="nav-button"><i class="fas fa-arrow-left"></i></button>
        <button id="next-btn" class="nav-button"><i class="fas fa-arrow-right"></i></button>
    </div>

    <div id="slide-container">
        <div class="slide active title-slide">
             <h1>Universal Dependencyã®ä¸–ç•Œã¸</h1>
            <div class="mt-12 text-lg">
                <p class="font-bold">å®®å· å‰µ</p>
                <p>ç­‘æ³¢å¤§å­¦</p>
                <p>2025å¹´6æœˆ - å¤§é˜ªå¤§å­¦ã‚²ã‚¹ãƒˆè¬›ç¾©</p>
            </div>
        </div>

        <div class="slide">
            <h2>æœ¬æ—¥ã®å†…å®¹</h2>
            <div class="card">
                <ol class="space-y-2 text-lg">
                    <li>Universal Dependencies (UD) ã¨ã¯ä½•ã‹</li>
                    <li>åŸºæœ¬çš„ãªçµ±èªæ¨¹ã®èª­ã¿æ–¹</li>
                    <li>æ—¥æœ¬èªã®çµ±èªæ¨¹ï¼ˆåŸºæœ¬ï¼‰: è‡ªå‹•è©ã€ä»–å‹•è©ã€æˆå—å‹•è©</li>
                    <li>æ—¥æœ¬èªã®çµ±èªæ¨¹ï¼ˆç™ºå±•ï¼‰: ä¿®é£¾èªã€é–¢ä¿‚ç¯€ã€ä¸¦åˆ—æ§‹é€ </li>
                    <li>å¤šè¨€èªã®çµ±èªæ¨¹æ¯”è¼ƒ: è‹±èªãƒ»ã‚¢ãƒ©ãƒ“ã‚¢èªãƒ»ãƒ©ãƒ†ãƒ³èª</li>
                    <li>ç§ã®ç ”ç©¶ä¾‹: å±æ©Ÿè¨€èªï¼ˆæ²–ç¸„èªï¼‰ã¨å¤ä»£è¨€èªï¼ˆã‚³ãƒ—ãƒˆèªï¼‰</li>
                    <li>ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã®ç´¹ä»‹</li>
                    <li>çš†ã•ã‚“ãŒã§ãã‚‹ç ”ç©¶ãƒ†ãƒ¼ãƒ
                        <span style="font-size: 0.8em; color: #f59e0b;">(âœ¨AIæ©Ÿèƒ½ä»˜ã)</span>
                    </li>
                    <li><strong style="color:var(--secondary-color)">ã€æ–°æ©Ÿèƒ½ã€‘AIæ§‹æ–‡åˆ†æãƒ©ãƒœ</strong>
                         <span style="font-size: 0.8em; color: #f59e0b;">(âœ¨AIæç”»æ©Ÿèƒ½ä»˜ã)</span>
                    </li>
                </ol>
            </div>
             <div class="highlight-card">
                <p>ğŸ’¡ <strong>ä»Šæ—¥ã®ã‚´ãƒ¼ãƒ«</strong>ï¼šãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãªã—ã§<span class="highlight">è¨€èªåˆ†æ</span>ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€<span class="highlight">AIã¨å…±ã«ç ”ç©¶ãƒ†ãƒ¼ãƒ</span>ã‚’å‰µé€ ã™ã‚‹ï¼</p>
            </div>
        </div>

        <div class="slide">
            <h2>1. Universal Dependencies (UD) ã¨ã¯ï¼Ÿ</h2>
            <div class="card">
                <h3>ä¸–ç•Œå…±é€šã®æ–‡æ³•è¨˜è¿°ã‚·ã‚¹ãƒ†ãƒ </h3>
                <ul class="list-disc list-inside space-y-2">
                    <li><strong>130ä»¥ä¸Šã®è¨€èª</strong>ã«å¯¾å¿œï¼ˆãƒ¡ã‚¸ãƒ£ãƒ¼è¨€èªã‹ã‚‰å±æ©Ÿè¨€èªã¾ã§ï¼‰</li>
                    <li><strong>228ã®ãƒ„ãƒªãƒ¼ãƒãƒ³ã‚¯</strong>ï¼ˆæ–‡æ³•ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã‚³ãƒ¼ãƒ‘ã‚¹ï¼‰</li>
                    <li>ç ”ç©¶è€…ãƒ»æ•™è‚²è€…ãƒ»é–‹ç™ºè€…ãŒ<strong>ç„¡æ–™</strong>ã§åˆ©ç”¨å¯èƒ½</li>
                    <li>ä¸–ç•Œä¸­ã®ç ”ç©¶è€…ã®å”åŠ›ã«ã‚ˆã£ã¦é–‹ç™ºãƒ»ç¶­æŒã•ã‚Œã¦ã„ã‚‹</li>
                </ul>
            </div>
             <div class="highlight-card">
                <p>âœ¨ <strong>é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ</strong>ï¼šã©ã‚“ãªè¨€èªã§ã‚‚ã€<span class="highlight">å˜èªé–“ã®ä¾å­˜é–¢ä¿‚</span>ã‚’<span class="highlight">æœ‰å‘ã‚°ãƒ©ãƒ•ï¼ˆçŸ¢å°ï¼‰</span>ã§è¡¨ç¾ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€è¨€èªã®å£æ ¹ã‚’è¶ŠãˆãŸæ¯”è¼ƒåˆ†æãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚</p>
            </div>
        </div>
        <div class="slide">
            <h2>2. åŸºæœ¬çš„ãªçµ±èªæ¨¹ã®èª­ã¿æ–¹</h2>
            <div class="tree-container">
                <h3>ã€ŒçŒ«ãŒå¯ã‚‹ã€</h3>
                <svg class="dependency-tree" viewBox="0 0 400 200">
                    <defs><marker id="arrow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#3b82f6"></path></marker></defs>
                    <text x="100" y="150" class="dep-word" text-anchor="middle">çŒ«</text>
                    <text x="100" y="170" class="dep-pos" text-anchor="middle">NOUN</text>
                    <text x="200" y="150" class="dep-word" text-anchor="middle">ãŒ</text>
                    <text x="200" y="170" class="dep-pos" text-anchor="middle">ADP</text>
                    <text x="300" y="150" class="dep-word" text-anchor="middle">å¯ã‚‹</text>
                    <text x="300" y="170" class="dep-pos" text-anchor="middle">VERB</text>
                    
                    <path d="M 100 135 Q 200 70 290 135" class="dep-arrow" stroke="#3b82f6" marker-end="url(#arrow)"/>
                    <text x="200" y="90" class="dep-label" fill="#3b82f6" text-anchor="middle">nsubj</text>
                    <path d="M 200 135 Q 150 100 110 135" class="dep-arrow" stroke="#ef4444" marker-end="url(#arrow)"/>
                    <text x="150" y="115" class="dep-label" fill="#ef4444" text-anchor="middle">case</text>
                </svg>
            </div>
            <div class="card">
                <h3>æ§‹æˆè¦ç´ </h3>
                <ul class="list-disc list-inside">
                    <li><strong>å˜èª (Word Form)</strong>: æ–‡ã‚’æ§‹æˆã™ã‚‹å„å˜èªã€‚ã€ŒçŒ«ã€ã€ŒãŒã€ã€Œå¯ã‚‹ã€</li>
                    <li><strong>å“è© (UPOS)</strong>: å„å˜èªã®æ™®éçš„ãªå“è©ã‚¿ã‚°ã€‚<code>NOUN</code> (åè©), <code>ADP</code> (åŠ©è©), <code>VERB</code> (å‹•è©)</li>
                    <li><strong>ä¾å­˜é–¢ä¿‚ã®çŸ¢å°</strong>: å˜èªé–“ã®é–¢ä¿‚ã‚’ç¤ºã™ã€‚çŸ¢å°ã®å…ƒãŒã€Œå¾“å±éƒ¨ã€ã€å…ˆãŒã€Œä¸»å°éƒ¨ã€ã€‚</li>
                    <li><strong>ä¾å­˜é–¢ä¿‚ãƒ©ãƒ™ãƒ« (DEPREL)</strong>: çŸ¢å°ãŒç¤ºã™æ–‡æ³•é–¢ä¿‚ã®ç¨®é¡ã€‚<code>nsubj</code> (ä¸»èª), <code>case</code> (æ ¼è¡¨ç¤º)</li>
                </ul>
            </div>
        </div>
        <div class="slide">
            <h2>3. æ—¥æœ¬èªã®çµ±èªæ¨¹ï¼ˆåŸºæœ¬ï¼‰</h2>
            <div class="tree-container">
                <h3>ä»–å‹•è©: ã€Œç§ã¯æœ¬ã‚’èª­ã‚€ã€</h3>
                 <svg class="dependency-tree" viewBox="0 0 500 220">
                    <defs><marker id="arrow2" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#3b82f6"></path></marker></defs>
                    <text x="80" y="160" class="dep-word" text-anchor="middle">ç§</text><text x="80" y="180" class="dep-pos" text-anchor="middle">PRON</text>
                    <text x="160" y="160" class="dep-word" text-anchor="middle">ã¯</text><text x="160" y="180" class="dep-pos" text-anchor="middle">ADP</text>
                    <text x="260" y="160" class="dep-word" text-anchor="middle">æœ¬</text><text x="260" y="180" class="dep-pos" text-anchor="middle">NOUN</text>
                    <text x="340" y="160" class="dep-word" text-anchor="middle">ã‚’</text><text x="340" y="180" class="dep-pos" text-anchor="middle">ADP</text>
                    <text x="440" y="160" class="dep-word" text-anchor="middle">èª­ã‚€</text><text x="440" y="180" class="dep-pos" text-anchor="middle">VERB</text>
                    <path d="M 80 145 Q 260 50 430 145" class="dep-arrow" stroke="#3b82f6" marker-end="url(#arrow2)"/><text x="260" y="75" class="dep-label" fill="#3b82f6" text-anchor="middle">nsubj</text>
                    <path d="M 160 145 Q 120 115 90 145" class="dep-arrow" stroke="#ef4444" marker-end="url(#arrow2)"/><text x="120" y="130" class="dep-label" fill="#ef4444" text-anchor="middle">case</text>
                    <path d="M 260 145 Q 350 90 430 145" class="dep-arrow" stroke="#10b981" marker-end="url(#arrow2)"/><text x="350" y="110" class="dep-label" fill="#10b981" text-anchor="middle">obj</text>
                    <path d="M 340 145 Q 300 115 270 145" class="dep-arrow" stroke="#ef4444" marker-end="url(#arrow2)"/><text x="300" y="130" class="dep-label" fill="#ef4444" text-anchor="middle">case</text>
                </svg>
            </div>
             <div class="tree-container">
                <h3>æˆå—å‹•è©: ã€Œå¤ªéƒã¯èŠ±å­ã«æœ¬ã‚’ã‚ã’ãŸã€</h3>
                <svg class="dependency-tree" viewBox="0 0 700 250">
                    <defs><marker id="arrow3" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#3b82f6"></path></marker></defs>
                    <text x="80" y="180" class="dep-word" text-anchor="middle">å¤ªéƒ</text><text x="80" y="200" class="dep-pos" text-anchor="middle">PROPN</text>
                    <text x="160" y="180" class="dep-word" text-anchor="middle">ã¯</text><text x="160" y="200" class="dep-pos" text-anchor="middle">ADP</text>
                    <text x="260" y="180" class="dep-word" text-anchor="middle">èŠ±å­</text><text x="260" y="200" class="dep-pos" text-anchor="middle">PROPN</text>
                    <text x="340" y="180" class="dep-word" text-anchor="middle">ã«</text><text x="340" y="200" class="dep-pos" text-anchor="middle">ADP</text>
                    <text x="440" y="180" class="dep-word" text-anchor="middle">æœ¬</text><text x="440" y="200" class="dep-pos" text-anchor="middle">NOUN</text>
                    <text x="520" y="180" class="dep-word" text-anchor="middle">ã‚’</text><text x="520" y="200" class="dep-pos" text-anchor="middle">ADP</text>
                    <text x="620" y="180" class="dep-word" text-anchor="middle">ã‚ã’ãŸ</text><text x="620" y="200" class="dep-pos" text-anchor="middle">VERB</text>
                    <path d="M 80 165 Q 350 40 610 165" class="dep-arrow" stroke="#3b82f6" marker-end="url(#arrow3)"/><text x="350" y="70" class="dep-label" fill="#3b82f6" text-anchor="middle">nsubj</text>
                    <path d="M 260 165 Q 440 80 610 165" class="dep-arrow" stroke="#a855f7" marker-end="url(#arrow3)"/><text x="440" y="105" class="dep-label" fill="#a855f7" text-anchor="middle">iobj</text>
                    <path d="M 440 165 Q 530 110 610 165" class="dep-arrow" stroke="#10b981" marker-end="url(#arrow3)"/><text x="530" y="130" class="dep-label" fill="#10b981" text-anchor="middle">obj</text>
                </svg>
            </div>
        </div>
        <div class="slide">
            <h2>4. æ—¥æœ¬èªã®çµ±èªæ¨¹ï¼ˆç™ºå±•ï¼‰</h2>
            <div class="tree-container">
                <h3>é–¢ä¿‚ç¯€: ã€Œæ˜¨æ—¥ä¼šã£ãŸäººãŒæœ¬ã‚’èª­ã‚“ã ã€</h3>
                <svg class="dependency-tree" viewBox="0 0 700 280">
                   <defs><marker id="arrow4" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#3b82f6"></path></marker></defs>
                   <text x="80" y="200" class="dep-word" text-anchor="middle">æ˜¨æ—¥</text><text x="80" y="220" class="dep-pos" text-anchor="middle">NOUN</text>
                   <text x="180" y="200" class="dep-word" text-anchor="middle">ä¼šã£ãŸ</text><text x="180" y="220" class="dep-pos" text-anchor="middle">VERB</text>
                   <text x="280" y="200" class="dep-word" text-anchor="middle">äºº</text><text x="280" y="220" class="dep-pos" text-anchor="middle">NOUN</text>
                   <text x="360" y="200" class="dep-word" text-anchor="middle">ãŒ</text><text x="360" y="220" class="dep-pos" text-anchor="middle">ADP</text>
                   <text x="460" y="200" class="dep-word" text-anchor="middle">æœ¬</text><text x="460" y="220" class="dep-pos" text-anchor="middle">NOUN</text>
                   <text x="540" y="200" class="dep-word" text-anchor="middle">ã‚’</text><text x="540" y="220" class="dep-pos" text-anchor="middle">ADP</text>
                   <text x="640" y="200" class="dep-word" text-anchor="middle">èª­ã‚“ã </text><text x="640" y="220" class="dep-pos" text-anchor="middle">VERB</text>
                    <path d="M 80 185 Q 130 150 170 185" class="dep-arrow" stroke="#f97316" marker-end="url(#arrow4)"/><text x="130" y="165" class="dep-label" fill="#f97316" text-anchor="middle">obl</text>
                    <path d="M 180 185 Q 230 150 270 185" class="dep-arrow" stroke="#8b5cf6" marker-end="url(#arrow4)"/><text x="230" y="165" class="dep-label" fill="#8b5cf6" text-anchor="middle">acl</text>
                    <path d="M 280 185 Q 460 60 630 185" class="dep-arrow" stroke="#3b82f6" marker-end="url(#arrow4)"/><text x="460" y="90" class="dep-label" fill="#3b82f6" text-anchor="middle">nsubj</text>
                    <path d="M 460 185 Q 550 120 630 185" class="dep-arrow" stroke="#10b981" marker-end="url(#arrow4)"/><text x="550" y="140" class="dep-label" fill="#10b981" text-anchor="middle">obj</text>
                    <rect x="50" y="170" width="250" height="70" rx="10" stroke="#8b5cf6" stroke-dasharray="5,5" stroke-width="2" fill="none"/>
                </svg>
            </div>
            <div class="tree-container">
                <h3>ä¸¦åˆ—æ§‹é€ : ã€Œã‚Šã‚“ã”ã¨ã¿ã‹ã‚“ã‚’è²·ã£ãŸã€</h3>
                 <svg class="dependency-tree" viewBox="0 0 600 250">
                    <defs><marker id="arrow5" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#3b82f6"></path></marker></defs>
                    <text x="100" y="180" class="dep-word" text-anchor="middle">ã‚Šã‚“ã”</text><text x="100" y="200" class="dep-pos" text-anchor="middle">NOUN</text>
                    <text x="200" y="180" class="dep-word" text-anchor="middle">ã¨</text><text x="200" y="200" class="dep-pos" text-anchor="middle">CCONJ</text>
                    <text x="300" y="180" class="dep-word" text-anchor="middle">ã¿ã‹ã‚“</text><text x="300" y="200" class="dep-pos" text-anchor="middle">NOUN</text>
                    <text x="400" y="180" class="dep-word" text-anchor="middle">ã‚’</text><text x="400" y="200" class="dep-pos" text-anchor="middle">ADP</text>
                    <text x="520" y="180" class="dep-word" text-anchor="middle">è²·ã£ãŸ</text><text x="520" y="200" class="dep-pos" text-anchor="middle">VERB</text>
                    <path d="M 300 165 Q 200 120 110 165" class="dep-arrow" stroke="#f97316" marker-end="url(#arrow5)"/><text x="200" y="135" class="dep-label" fill="#f97316" text-anchor="middle">conj</text>
                    <path d="M 200 165 Q 250 135 290 165" class="dep-arrow" stroke="#ef4444" marker-end="url(#arrow5)"/><text x="250" y="150" class="dep-label" fill="#ef4444" text-anchor="middle">cc</text>
                    <path d="M 100 165 Q 310 70 510 165" class="dep-arrow" stroke="#10b981" marker-end="url(#arrow5)"/><text x="310" y="100" class="dep-label" fill="#10b981" text-anchor="middle">obj</text>
                 </svg>
            </div>
        </div>
        <div class="slide">
            <h2>5. å¤šè¨€èªã®çµ±èªæ¨¹æ¯”è¼ƒ</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="tree-container">
                    <h3>è‹±èª (SVO)</h3>
                    <p class="text-center font-bold">I love you</p>
                    <svg class="dependency-tree h-40" viewBox="0 0 400 180">
                        <text x="80" y="120" class="dep-word" text-anchor="middle">I</text>
                        <text x="200" y="120" class="dep-word" text-anchor="middle">love</text>
                        <text x="320" y="120" class="dep-word" text-anchor="middle">you</text>
                        <path d="M 80 105 Q 140 50 190 105" class="dep-arrow" stroke="#3b82f6" marker-end="url(#arrow)"/>
                        <path d="M 320 105 Q 260 50 210 105" class="dep-arrow" stroke="#10b981" marker-end="url(#arrow)"/>
                        <text x="140" y="70" class="dep-label" fill="#3b82f6">nsubj</text>
                        <text x="260" y="70" class="dep-label" fill="#10b981">obj</text>
                    </svg>
                </div>
                <div class="tree-container">
                    <h3>ã‚¢ãƒ©ãƒ“ã‚¢èª (VSO)</h3>
                    <p class="text-center font-bold" dir="rtl">Ù‚Ø±Ø£ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„ÙƒØªØ§Ø¨</p>
                     <svg class="dependency-tree h-40" viewBox="0 0 400 180">
                        <text x="320" y="120" class="dep-word" text-anchor="middle">Ù‚Ø±Ø£</text>
                        <text x="200" y="120" class="dep-word" text-anchor="middle">Ø§Ù„Ø·Ø§Ù„Ø¨</text>
                        <text x="80" y="120" class="dep-word" text-anchor="middle">Ø§Ù„ÙƒØªØ§Ø¨</text>
                        <path d="M 200 105 Q 260 50 310 105" class="dep-arrow" stroke="#3b82f6" marker-end="url(#arrow)"/>
                        <path d="M 80 105 Q 200 50 310 105" class="dep-arrow" stroke="#10b981" marker-end="url(#arrow)"/>
                        <text x="260" y="70" class="dep-label" fill="#3b82f6">nsubj</text>
                        <text x="180" y="70" class="dep-label" fill="#10b981">obj</text>
                    </svg>
                </div>
                 <div class="tree-container md:col-span-2">
                    <h3>ãƒ©ãƒ†ãƒ³èª (è‡ªç”±èªé †)</h3>
                    <p class="text-center font-bold">Puella rosam amat</p>
                    <svg class="dependency-tree h-48" viewBox="0 0 600 200">
                        <text x="100" y="130" class="dep-word" text-anchor="middle">Puella</text>
                        <text x="100" y="150" class="dep-pos">å°‘å¥³[ä¸»æ ¼]</text>
                        <text x="300" y="130" class="dep-word" text-anchor="middle">rosam</text>
                        <text x="300" y="150" class="dep-pos">ãƒãƒ©[å¯¾æ ¼]</text>
                        <text x="500" y="130" class="dep-word" text-anchor="middle">amat</text>
                        <text x="500" y="150" class="dep-pos">æ„›ã™ã‚‹</text>
                        <path d="M 100 115 Q 300 40 490 115" class="dep-arrow" stroke="#3b82f6" marker-end="url(#arrow)"/>
                        <path d="M 300 115 Q 400 60 490 115" class="dep-arrow" stroke="#10b981" marker-end="url(#arrow)"/>
                         <text x="300" y="60" class="dep-label" fill="#3b82f6">nsubj</text>
                        <text x="400" y="80" class="dep-label" fill="#10b981">obj</text>
                    </svg>
                    <p class="text-sm text-center text-slate-500">â€»æ ¼å¤‰åŒ–ãŒã‚ã‚‹ãŸã‚ "Rosam amat puella" (OSV) ãªã©ã§ã‚‚åŒã˜æ„å‘³ã‚’è¡¨ã™ã€‚</p>
                </div>
            </div>
             <div class="highlight-card">
                <p>ğŸŒ UDã‚’ä½¿ã†ã“ã¨ã§ã€<span class="highlight">èªé †ãŒç•°ãªã‚‹è¨€èªã§ã‚‚åŒã˜æ–‡æ³•é–¢ä¿‚ï¼ˆnsubj, objï¼‰ã‚’æŠ½å‡º</span>ã—ã€æ¯”è¼ƒã§ãã¾ã™ã€‚</p>
            </div>
        </div>
        
        <div class="slide">
            <h2>6. ç§ã®ç ”ç©¶ä¾‹</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="tree-container">
                    <h3>å±æ©Ÿè¨€èª: æ²–ç¸„èª</h3>
                    <p class="text-center font-bold">ãƒ¯ãƒ³ãƒãƒ¼ ãƒãƒ¥ãƒ¼ãƒ¤ ã‚¬ãƒƒã‚³ãƒ¼ãƒ³ã‚«ã‚¤ ã‚¤ãƒãƒ¥ãƒ³</p>
                    <p class="text-center text-sm text-slate-500">ï¼ˆç§ã¯ä»Šæ—¥å­¦æ ¡ã«è¡Œãï¼‰</p>
                     <svg class="dependency-tree h-48" viewBox="0 0 700 220">
                        <defs>
                            <marker id="arrowOki" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#3b82f6"/></marker>
                        </defs>
                        <text x="80" y="150" class="dep-word" text-anchor="middle">ãƒ¯ãƒ³ãƒãƒ¼</text>
                        <text x="220" y="150" class="dep-word" text-anchor="middle">ãƒãƒ¥ãƒ¼ãƒ¤</text>
                        <text x="380" y="150" class="dep-word" text-anchor="middle">ã‚¬ãƒƒã‚³ãƒ¼</text>
                        <text x="500" y="150" class="dep-word" text-anchor="middle">ãƒ³ã‚«ã‚¤</text>
                        <text x="620" y="150" class="dep-word" text-anchor="middle">ã‚¤ãƒãƒ¥ãƒ³</text>
                        
                        <path d="M 80 135 Q 350 30 610 135" class="dep-arrow" stroke="#3b82f6" marker-end="url(#arrowOki)"/><text x="350" y="55" class="dep-label" fill="#3b82f6">nsubj</text>
                        <path d="M 220 135 Q 420 70 610 135" class="dep-arrow" stroke="#f97316" marker-end="url(#arrowOki)"/><text x="420" y="95" class="dep-label" fill="#f97316">obl</text>
                        <path d="M 380 135 Q 500 80 610 135" class="dep-arrow" stroke="#22c55e" marker-end="url(#arrowOki)"/><text x="500" y="105" class="dep-label" fill="#22c55e">obl</text>
                        <path d="M 500 135 Q 440 105 390 135" class="dep-arrow" stroke="#ef4444" marker-end="url(#arrowOki)"/><text x="440" y="120" class="dep-label" fill="#ef4444">case</text>
                    </svg>
                </div>
                <div class="tree-container">
                    <h3>å¤ä»£è¨€èª: ã‚³ãƒ—ãƒˆèª</h3>
                    <p class="text-center font-bold">â²Ï¥â²¥â²±â²§â²™ â²›Ï­â²“ â²¡â²£â²±â²™â²‰</p>
                    <p class="text-center text-sm text-slate-500">ï¼ˆãã®ç”·ã¯èã„ãŸï¼‰</p>
                    <svg class="dependency-tree h-48" viewBox="0 0 600 220">
                         <text x="100" y="150" class="dep-word" text-anchor="middle">â²Ï¥â²¥â²±â²§â²™</text>
                         <text x="300" y="150" class="dep-word" text-anchor="middle">â²›Ï­â²“</text>
                         <text x="500" y="150" class="dep-word" text-anchor="middle">â²¡â²£â²±â²™â²‰</text>
                         <path d="M 500 135 Q 300 60 110 135" class="dep-arrow" stroke="#3b82f6" marker-end="url(#arrow)"/><text x="300" y="80" class="dep-label" fill="#3b82f6">nsubj</text>
                         <path d="M 300 135 Q 400 100 490 135" class="dep-arrow" stroke="#ef4444" marker-end="url(#arrow)"/><text x="400" y="115" class="dep-label" fill="#ef4444">case</text>
                    </svg>
                </div>
            </div>
             <div class="card">
                <p>UDã¯ã€æ–‡å­—è³‡æ–™ã—ã‹æ®‹ã£ã¦ã„ãªã„å¤ä»£è¨€èªã‚„ã€è©±è€…æ•°ãŒæ¸›å°‘ã—ã¦ã„ã‚‹å±æ©Ÿè¨€èªã®æ§‹é€ ã‚’è¨˜éŒ²ã—ã€å¾Œä¸–ã«ä¼ãˆã‚‹ãŸã‚ã®å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã¨ãªã‚Šã¾ã™ã€‚</p>
            </div>
        </div>
        <div class="slide">
             <h2>7. ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã®ç´¹ä»‹</h2>
             <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                 <div class="card text-center">
                     <i class="fas fa-globe-asia text-4xl text-blue-500 mb-4"></i>
                     <h3 class="text-xl">UDPipe</h3>
                     <p>ãƒ–ãƒ©ã‚¦ã‚¶ã§ä½¿ãˆã‚‹å¤šè¨€èªæ§‹æ–‡è§£æãƒ„ãƒ¼ãƒ«ã€‚ã‚³ãƒ”ãƒšã§ç°¡å˜è§£æã€‚</p>
                     <a href="https://lindat.mff.cuni.cz/services/udpipe/" target="_blank" class="font-bold text-blue-600">è©¦ã—ã¦ã¿ã‚‹ &rarr;</a>
                 </div>
                 <div class="card text-center">
                    <i class="fas fa-search text-4xl text-purple-500 mb-4"></i>
                     <h3 class="text-xl">ArboratorGrew</h3>
                     <p>çµ±èªæ¨¹ã®ç·¨é›†ã€æ¤œç´¢ã€å¯è¦–åŒ–ã€‚ç ”ç©¶ãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†ã«æœ€é©ã€‚</p>
                     <a href="https://arborator.github.io/arborator-grew/" target="_blank" class="font-bold text-purple-600">è©¦ã—ã¦ã¿ã‚‹ &rarr;</a>
                 </div>
                  <div class="card text-center">
                    <i class="fas fa-palette text-4xl text-pink-500 mb-4"></i>
                     <h3 class="text-xl">Deplacy</h3>
                     <p>Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚ç¾ã—ã„çµ±èªæ¨¹ã®ç”»åƒã‚’ç”Ÿæˆã—è«–æ–‡ã«æ´»ç”¨ã€‚</p>
                     <a href="https://koichiyasuoka.github.io/deplacy/" target="_blank" class="font-bold text-pink-600">è©¦ã—ã¦ã¿ã‚‹ &rarr;</a>
                 </div>
             </div>
             <div class="highlight-card">
                 <p>ã“ã‚Œã‚‰ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ãˆã°ã€<span class="highlight">ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®çŸ¥è­˜ãŒãªãã¦ã‚‚</span>ã€ä»Šæ—¥ã‹ã‚‰è¨€èªåˆ†æã‚’å§‹ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
             </div>
        </div>

        <div class="slide">
            <h2>8. çš†ã•ã‚“ãŒã§ãã‚‹ç ”ç©¶ãƒ†ãƒ¼ãƒ</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="research-topics-container">
                <div class="card">
                    <h3 class="text-xl">ğŸ“± SNSãƒ»è‹¥è€…è¨€è‘‰ã®åˆ†æ</h3>
                    <p>ã€Œã¦ã‡ã¦ã‡ã€ã€Œâ—‹â—‹ã—ã‹å‹ãŸã‚“ã€ãªã©ã€æ–°ã—ã„è¡¨ç¾ã®æ§‹é€ ã‚’åˆ†æã™ã‚‹ã€‚</p>
                </div>
                <div class="card">
                    <h3 class="text-xl">ğŸ® ã‚²ãƒ¼ãƒ ãƒ»ã‚¢ãƒ‹ãƒ¡ã®ã‚­ãƒ£ãƒ©è¨€èª</h3>
                    <p>ç‰¹å®šã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å£ç™–ã‚„è©±ã—æ–¹ã®çµ±èªçš„ãªç‰¹å¾´ã‚’æ˜ã‚‰ã‹ã«ã™ã‚‹ã€‚</p>
                </div>
                 <div class="card">
                    <h3 class="text-xl">ğŸ—¾ æ–¹è¨€ã®è¨˜è¿°</h3>
                    <p>è‡ªåˆ†ã®å‡ºèº«åœ°ã®æ–¹è¨€ã®æ–‡æ§‹é€ ã‚’è¨˜éŒ²ã—ã€å…±é€šèªã¨ã®é•ã„ã‚’æ¯”è¼ƒã™ã‚‹ã€‚</p>
                </div>
                 <div class="card">
                    <h3 class="text-xl">âœï¸ ä½œå®¶ãƒ»è‘—åäººã®æ–‡ä½“åˆ†æ</h3>
                    <p>å¥½ããªä½œå®¶ã‚„æœ‰åäººã®æ–‡ç« ã‚’åˆ†æã—ã€ãã®äººãªã‚‰ã§ã¯ã®æ–‡ä½“ã®ç‰¹å¾´ã‚’æ¢ã‚‹ã€‚</p>
                </div>
            </div>
            <div class="text-center mt-8">
                <button id="generate-topics-btn" class="gemini-button">
                    âœ¨ æ–°ã—ã„ç ”ç©¶ãƒ†ãƒ¼ãƒã‚’AIã«ææ¡ˆã—ã¦ã‚‚ã‚‰ã†
                </button>
            </div>
            <div id="topics-loader" class="text-center mt-4" style="display: none;">èª­ã¿è¾¼ã¿ä¸­...</div>
        </div>
        
        <div class="slide">
            <h2>9. AIæ§‹æ–‡åˆ†æãƒ©ãƒœ</h2>
            <div class="card">
                <h3>åˆ†æã—ãŸã„æ—¥æœ¬èªã®æ–‡ç« ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</h3>
                <textarea id="sentence-input" rows="3" class="w-full p-2 border border-gray-300 rounded-md text-lg" placeholder="ä¾‹ï¼šéš£ã®å®¢ã¯ã‚ˆãæŸ¿é£Ÿã†å®¢ã "></textarea>
                <div class="text-center mt-4">
                    <button id="analyze-sentence-btn" class="gemini-button">
                        âœ¨ ã“ã®æ–‡ç« ã‚’AIã«åˆ†æãƒ»æç”»ã•ã›ã‚‹
                    </button>
                </div>
            </div>
            <div id="analysis-result" class="mt-6">
                </div>
        </div>

        <div class="slide">
             <h2>ã¾ã¨ã‚ã¨è³ªç–‘å¿œç­”</h2>
             <div class="card">
                <h3>æœ¬æ—¥ã®ã¾ã¨ã‚</h3>
                 <ul class="list-disc list-inside space-y-2">
                     <li>UDã¯ã€è¨€èªã®å£ã‚’è¶Šãˆã¦æ–‡æ³•æ§‹é€ ã‚’æ¯”è¼ƒã§ãã‚‹<strong>å…±é€šã®ç‰©å·®ã—</strong>ã§ã‚ã‚‹ã€‚</li>
                     <li>çµ±èªæ¨¹ã¯ã€å˜èªé–“ã®<strong>ä¾å­˜é–¢ä¿‚</strong>ã‚’å¯è¦–åŒ–ã—ãŸã‚‚ã®ã§ã‚ã‚‹ã€‚</li>
                     <li><strong>ç„¡æ–™ã®ãƒ„ãƒ¼ãƒ«</strong>ã‚’ä½¿ãˆã°ã€èª°ã§ã‚‚ã™ãã«è¨€èªåˆ†æã‚’å§‹ã‚ã‚‰ã‚Œã‚‹ã€‚</li>
                     <li><strong>ç”ŸæˆAI</strong>ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ç ”ç©¶ã®ç€æƒ³ã‚’å¾—ãŸã‚Šã€åˆ†æã‚’æ·±ã‚ãŸã‚Šã§ãã‚‹ã€‚</li>
                 </ul>
            </div>
            <div class="text-center mt-12">
                 <h1 style="color:var(--primary-color)">ã”æ¸…è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ</h1>
                 <p class="text-2xl">ã”è³ªå•ã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DOM Elements ---
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const currentSlideNum = document.getElementById('current-slide-num');
            const totalSlidesNum = document.getElementById('total-slides-num');
            const progressFill = document.getElementById('progress-fill');
            
            const generateTopicsBtn = document.getElementById('generate-topics-btn');
            const topicsContainer = document.getElementById('research-topics-container');
            const topicsLoader = document.getElementById('topics-loader');
            
            const analyzeSentenceBtn = document.getElementById('analyze-sentence-btn');
            const sentenceInput = document.getElementById('sentence-input');
            const analysisResult = document.getElementById('analysis-result');
            
            let currentSlide = 0;
            totalSlidesNum.textContent = slides.length;

            const callGemini = async (prompt) => {
                const apiKey = ""; // Provided by the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                const payload = { contents: [{ role: "user", parts: [{ text: prompt }] }] };
                try {
                    const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                    if (!response.ok) throw new Error(`API request failed with status ${response.status}`);
                    const result = await response.json();
                    if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts) {
                        return result.candidates[0].content.parts[0].text;
                    }
                    console.warn("Gemini API response was empty or blocked.", result);
                    return '{"error": "AIã‹ã‚‰ã®å¿œç­”ãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ä¸é©åˆ‡ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚"}';
                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    return `{"error": "AIã¨ã®é€šä¿¡ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}"}`;
                }
            };
            
            generateTopicsBtn.addEventListener('click', async () => {
                generateTopicsBtn.disabled = true;
                topicsLoader.style.display = 'block';
                const prompt = 'ã‚ãªãŸã¯è¨€èªå­¦ã®æ•™æˆã§ã™ã€‚Universal Dependencies (UD) ã‚’æ´»ç”¨ã—ãŸã€æ–¬æ–°ã§é¢ç™½ã„ç ”ç©¶ãƒ†ãƒ¼ãƒã‚’3ã¤ææ¡ˆã—ã¦ãã ã•ã„ã€‚ãƒ†ãƒ¼ãƒã¯ç®‡æ¡æ›¸ãã§ã€ãã‚Œãã‚Œã«ç°¡å˜ãªèª¬æ˜ã‚’åŠ ãˆã¦ãã ã•ã„ã€‚';
                const resultText = await callGemini(prompt);
                topicsContainer.innerHTML = '';
                const topics = resultText.split(/\n\s*\*\s*/).filter(t => t && t.trim());
                topics.forEach(topic => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    const cleanedTopic = topic.trim();
                    const titleMatch = cleanedTopic.match(/^(.*?):/);
                    card.innerHTML = titleMatch ? '<h3 class="text-xl">' + titleMatch[1] + '</h3><p>' + cleanedTopic.substring(titleMatch[0].length).trim() + '</p>' : '<p>' + cleanedTopic + '</p>';
                    topicsContainer.appendChild(card);
                });
                generateTopicsBtn.disabled = false;
                topicsLoader.style.display = 'none';
            });
            
            analyzeSentenceBtn.addEventListener('click', async () => {
                const sentence = sentenceInput.value.trim();
                if (!sentence) {
                    analysisResult.innerHTML = '<p class="text-red-500">åˆ†æã™ã‚‹æ–‡ç« ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>';
                    return;
                }
                analyzeSentenceBtn.disabled = true;
                analysisResult.innerHTML = '<div class="text-center">AIãŒåˆ†æãƒ»æç”»ä¸­ã§ã™...</div>';
                
                const prompt = `ã‚ãªãŸã¯ã€æ—¥æœ¬èªã®çµ±èªæ§‹é€ ã‚’åˆ†æã—ã€ãã®çµæœã‚’è§£èª¬ã¨SVGå½¢å¼ã®çµ±èªæ¨¹ã§å‡ºåŠ›ã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚
                ä»¥ä¸‹ã®æ—¥æœ¬èªã®æ–‡ã‚’åˆ†æã—ã€æŒ‡å®šã•ã‚ŒãŸJSONå½¢å¼ã§å¿œç­”ã—ã¦ãã ã•ã„ã€‚

                # æŒ‡ç¤º
                - æ–‡: "${sentence}"
                - å¿œç­”ã¯JSONå½¢å¼ã®ã¿ã¨ã—ã€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã¯å«ã‚ãªã„ã§ãã ã•ã„ã€‚
                - JSONã«ã¯ "analysis" ã¨ "svg" ã®2ã¤ã®ã‚­ãƒ¼ã‚’å«ã‚ã¦ãã ã•ã„ã€‚
                - "analysis" ã®å€¤ã«ã¯ã€æ–‡ã®æ§‹é€ åˆ†æã‚’æ ¼ç´ã—ã¦ãã ã•ã„ï¼ˆroot, nsubj, obj, explanationï¼‰ã€‚
                - "svg" ã®å€¤ã«ã¯ã€çµ±èªæ¨¹ã‚’æç”»ã™ã‚‹SVGã‚³ãƒ¼ãƒ‰ã‚’æ–‡å­—åˆ—ã¨ã—ã¦æ ¼ç´ã—ã¦ãã ã•ã„ã€‚
                - SVGã®å˜èªã¯ y=150 ã«é…ç½®ã—ã€xåº§æ¨™ã¯100ã‹ã‚‰åˆã‚ã¦ã€å˜èªã”ã¨ã«120ãšã¤å¢—ã‚„ã—ã¦ãã ã•ã„ã€‚
                - ä¾å­˜é–¢ä¿‚ã®çŸ¢å°ã¯ã€å§‹ç‚¹ã¨çµ‚ç‚¹ã®ä¸­é–“ç‚¹ã‚’åˆ¶å¾¡ç‚¹ã¨ã™ã‚‹äºŒæ¬¡ãƒ™ã‚¸ã‚§æ›²ç·šï¼ˆQï¼‰ã§æç”»ã—ã¦ãã ã•ã„ã€‚

                # JSONå‡ºåŠ›å½¢å¼ã®ä¾‹
                {
                  "analysis": {
                    "root": "é£Ÿã¹ã‚‹",
                    "nsubj": "çŒ«",
                    "obj": "é­š",
                    "explanation": "ã€Œé£Ÿã¹ã‚‹ã€ã‚’æ–‡ã®æ ¸ã¨ã—ã¦ã€ã€ŒçŒ«ãŒã€ãŒãã®ä¸»èªã€ã€Œé­šã‚’ã€ãŒç›®çš„èªã¨ãªã‚‹åŸºæœ¬çš„ãªæ§‹é€ ã§ã™ã€‚"
                  },
                  "svg": "<svg class='dependency-tree' viewBox='0 0 500 200'><defs><marker id='ai-arrow' viewBox='0 0 10 10' refX='8' refY='5' markerWidth='6' markerHeight='6' orient='auto-start-reverse'><path d='M 0 0 L 10 5 L 0 10 z' fill='#3b82f6'/></marker></defs><text x='100' y='150' class='dep-word' text-anchor='middle'>çŒ«</text><text x='220' y='150' class='dep-word' text-anchor='middle'>ãŒ</text><text x='340' y='150' class='dep-word' text-anchor='middle'>é­š</text><text x='460' y='150' class='dep-word' text-anchor='middle'>ã‚’</text><text x='580' y='150' class='dep-word' text-anchor='middle'>é£Ÿã¹ã‚‹</text><path d='M 100 135 Q 340 50 570 135' class='dep-arrow' stroke='#3b82f6' marker-end='url(#ai-arrow)'/><text x='340' y='70' class='dep-label' fill='#3b82f6'>nsubj</text><path d='M 340 135 Q 460 80 570 135' class='dep-arrow' stroke='#10b981' marker-end='url(#ai-arrow)'/><text x='460' y='100' class='dep-label' fill='#10b981'>obj</text></svg>"
                }`;

                const resultText = await callGemini(prompt);
                
                try {
                    const result = JSON.parse(resultText);
                    if (result.error) throw new Error(result.error);
                    
                    const { analysis, svg } = result;
                    let htmlOutput = '<div class="tree-container">' +
                        '<h3 class="text-xl">AIã«ã‚ˆã‚‹æ§‹æ–‡åˆ†æçµæœ</h3>' +
                        '<div id="ai-svg-container" class="my-4">' + (svg || '<p>SVGã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p>') + '</div>' +
                        '<p><strong>å…¥åŠ›æ–‡:</strong> ' + sentence + '</p>' +
                        '<ul class="list-disc list-inside mt-4 space-y-2">' +
                        '<li><strong>æ ¸ (root):</strong> ' + (analysis.root || 'ä¸æ˜') + '</li>' +
                        '<li><strong>ä¸»èª (nsubj):</strong> ' + (analysis.nsubj || 'ä¸æ˜') + '</li>' +
                        '<li><strong>ç›®çš„èª (obj):</strong> ' + (analysis.obj || 'ä¸æ˜') + '</li>' +
                        '</ul>' +
                        '<div class="highlight-card mt-4">' +
                        '<p><strong>AIã«ã‚ˆã‚‹è§£èª¬:</strong> ' + (analysis.explanation || 'è§£èª¬ã‚’ç”Ÿæˆã§ãã¾ã›ã‚“ã§ã—ãŸã€‚') + '</p>' +
                        '</div>' +
                        '</div>';
                    analysisResult.innerHTML = htmlOutput;
                } catch (e) {
                    console.error("Failed to parse Gemini response:", e);
                    analysisResult.innerHTML = '<div class="tree-container">' +
                       '<h3 class="text-red-500">åˆ†æã‚¨ãƒ©ãƒ¼</h3>' +
                       '<p>AIã‹ã‚‰ã®å¿œç­”ã‚’è§£æã§ãã¾ã›ã‚“ã§ã—ãŸã€‚AIã®å¿œç­”ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š</p>' +
                       '<p class="mt-2 p-2 bg-gray-100 rounded" style="white-space: pre-wrap; word-break: break-all;">' + resultText + '</p>' +
                       '</div>';
                }
                
                analyzeSentenceBtn.disabled = false;
            });

            // --- Slide Navigation ---
            const showSlide = (index) => {
                slides.forEach((slide, i) => {
                    slide.classList.remove('active', 'prev-slide');
                    if (i === index) slide.classList.add('active');
                    else if (i < index) slide.classList.add('prev-slide');
                });
                currentSlide = index;
                updateUI();
            };

            const updateUI = () => {
                currentSlideNum.textContent = currentSlide + 1;
                progressFill.style.width = `${((currentSlide + 1) / slides.length) * 100}%`;
                prevBtn.disabled = currentSlide === 0;
                nextBtn.disabled = currentSlide === slides.length - 1;
            };

            const next = () => { if (currentSlide < slides.length - 1) showSlide(currentSlide + 1); };
            const prev = () => { if (currentSlide > 0) showSlide(currentSlide - 1); };

            nextBtn.addEventListener('click', next);
            prevBtn.addEventListener('click', prev);
            document.addEventListener('keydown', (e) => {
                if (document.activeElement.tagName === 'TEXTAREA') return;
                if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); next(); } 
                else if (e.key === 'ArrowLeft') { e.preventDefault(); prev(); }
            });
            showSlide(0);
        });
    </script>
</body>
</html>
